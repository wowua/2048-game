(this["webpackJsonp2048-game"]=this["webpackJsonp2048-game"]||[]).push([[0],{16:function(n,t,e){n.exports=e(26)},25:function(n,t,e){},26:function(n,t,e){"use strict";e.r(t);var r,a,u=e(0),c=e.n(u),o=e(11),i=e.n(o),f=e(3);!function(n){n.UP="UP",n.DOWN="DOWN",n.LEFT="LEFT",n.RIGHT="RIGHT"}(r||(r={})),function(n){n.IDLE="IDLE",n.BORN="BORN",n.MOVING="MOVING",n.DYING="DYING",n.INCREASE="INCREASE"}(a||(a={}));var l=e(15),s=e(4),d=function(n,t){return 4*n+t},v=function(n,t){for(var e=Object(s.cloneDeep)(n),r=!1,a=0;a<4;a++){for(var u=0;u<4&&(e=t(e,u,a,(function(){r=!0})),!r);u++);if(r)break}return e},m=function(n){return function(n){return v(n,(function(n,t,e){return t<=0&&(n[e]=n[e].reverse()),n}))}(function(n){return v(n,(function(t,e,r){return t[r][e]=n[e][r],t}))}(n))},p=function(n){return{x:n.x,y:n.y,id:n.id?n.id:Object(s.uniqueId)(),value:n.value,state:n.state}},x=function(){return Math.floor(3.9*Math.random())},b=function(){var n=p({x:x(),y:x(),value:2,state:a.IDLE}),t=p({x:x(),y:x(),value:2,state:a.IDLE});return n.x===t.x&&n.y===t.y&&(n.x=0===n.x?1:n.x-1),[n,t]},g=function(n){var t,e=(t=4,Array.from(new Array(t),(function(){return Array.from(new Array(t),(function(){return 0}))})));return n.forEach((function(n){e[n.y][n.x]=n})),e},y=function(n){var t=function(n){var t=new Set;return n.forEach((function(n){t.add(d(n.x,n.y))})),t}(n);if(t.size===Math.pow(4,2))return n;var e=function(n){var t=Object(s.cloneDeep)(n),e=t.size,r=0,a=0;do{r=x(),a=x(),t.add(d(r,a))}while(e===t.size);return[r,a]}(t),r=Object(f.a)(e,2),u=r[0],c=r[1];return t.add(d(u,c)),[].concat(Object(l.a)(n),[p({x:u,y:c,value:2,state:a.BORN})])},h=function(n,t){return n.value===t.value},O=function(n){return n.state===a.IDLE||n.state===a.BORN},E=function(n){return n.state===a.MOVING},j=function(n,t,e){var r=Object(s.cloneDeep)(n);return r[e.y][e.x]=r[t.y][t.x],r[t.y][t.x].state=a.MOVING,r[t.y][t.x]=0,r},w=function(n,t,e){var r=Object(s.cloneDeep)(n);return r[e.y][e.x].state=a.DYING,r[t.y][t.x].state=a.INCREASE,r[e.y][e.x]=r[t.y][t.x],r[t.y][t.x]=0,r},I=function(n,t,e){return 0===n[e][t]||(n[e][t].y=e,n[e][t].x=t),n},N=function(n,t,e){if(0===n[e][t])return n;for(var r=e,a=e-1;a>=0;){var u=n[r][t],c=n[a][t];0===c&&(n=j(n,{x:t,y:r},{x:t,y:a})),h(c,u)&&(O(c)||E(c))&&(n=w(n,{x:t,y:r},{x:t,y:a})),r=a,a--}return n},k=function(n,t){var e=Object(s.cloneDeep)(n),a=function(n,t){switch(t){case r.LEFT:return m(n);case r.DOWN:return m(m(n));case r.RIGHT:return m(m(m(n)));default:return n}}(g(e),t),u=function(n,t){switch(t){case r.LEFT:return m(m(m(n)));case r.DOWN:return m(m(n));case r.RIGHT:return m(n);default:return n}}(v(a,N),t);return v(u,I).flat(2).filter((function(n){return 0!==n}))},D=function(n){var t=g(n),e=!1;return v(t,(function(n,t,r,a){var u=n[r][t];return 0===u||function(n,t){var e=new Set;return t.forEach((function(n){var t=n.value;e.add(t)})),e.has(n.value)}(u,function(n,t,e){var r=0,a=0,u=0,c=0,o=e-1,i=e+1,f=t+1,l=t-1;return o>=0&&(r=n[o][t]),i<4&&(a=n[i][t]),l>=0&&(c=n[e][l]),f<4&&(u=n[e][f]),[u,a,c,r].filter((function(n){return 0!==n}))}(n,t,r))&&(e=!0,"function"===typeof a&&a()),n})),e},R=function(n){var t=function(){var n=0;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return n+=t}}();return[n.filter((function(n){return!function(n){return n.state===a.DYING}(n)})).map((function(n){return function(n){return n.state===a.INCREASE}(n)&&(n.value*=2,t(n.value)),n.state=a.IDLE,n})),t(0)]},G=function(n){localStorage.setItem("score",n.toString())},S=function(){var n=localStorage.getItem("score");return n?Number(n):0},A=e(1),L=e(2);function M(){var n=Object(A.a)(["\n  display: flex;\n  font-weight: 500;\n  align-items: center;\n  font-size: 16px;\n"]);return M=function(){return n},n}function T(){var n=Object(A.a)(["\n  color: #95ac95;\n  margin-right: 12px;\n  font-size: 20px;\n  font-weight: bold;\n  \n  "," \n  \n  @keyframes fadeUp {\n    from { transform: translateY(0); opacity: 1 }\n    to { transform: translateY(-50px); opacity: 0 }\n  }\n"]);return T=function(){return n},n}var z=L.a.div(T(),(function(n){return n.animated&&"\n    animation: fadeUp .4s; \n    animation-delay: .3s;\n    animation-fill-mode: forwards;\n  "})),B=L.a.div(M());function C(){var n=Object(A.a)(["\n  min-height: 600px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"]);return C=function(){return n},n}function U(){var n=Object(A.a)(["\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  width: 100%;\n"]);return U=function(){return n},n}var Y=L.a.main(U()),F=L.a.div(C()),H=function(n){var t=n.children;return c.a.createElement(Y,null,c.a.createElement(F,null,t))},W=function(n){if(0===n)return"transparent";var t=Math.min(16,Math.log2(n));return"hsl(0, ".concat(function(n){return Math.floor(6.25*n)}(t),"%, ").concat(function(n){return 100-Math.floor(3.125*n)}(t),"%);")};function V(){var n=Object(A.a)(["\n  // transform: ",";\n  left: ","px;\n  top: ","px;\n  text-align: center;\n  line-height: 100px;\n  background-color: ",";\n  position: absolute;\n  transition: .1s;\n  color: #6a4e4e;\n  font-weight: 900;\n  font-size: ",";\n  will-change: transform;\n    \n  ","  \n  \n  @keyframes zoom {\n    from { transform: scale(.5); }\n    to { transform: scale(1); }\n  }\n"]);return V=function(){return n},n}function P(){var n=Object(A.a)(["\n  margin: 5px;\n  background-color: rgba(238, 228, 218, 0.35);\n  height: 100px;\n  width: 100px;\n  border-radius: 5px;\n"]);return P=function(){return n},n}function J(){var n=Object(A.a)(["\n  background-color: transparent;\n"]);return J=function(){return n},n}function q(){var n=Object(A.a)(["\n  align-content: space-between;\n  background-color: #bbada0;\n  border-radius: 10px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: space-between;\n  padding: 5px;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n"]);return q=function(){return n},n}function K(){var n=Object(A.a)(["\n  position: absolute;\n  top: 0px;\n  left: 0px;\n  width: 100%;\n  height: 100%;\n"]);return K=function(){return n},n}function Q(){var n=Object(A.a)(["\n  height:  ","px;\n  width: ","px;\n  position: relative;\n"]);return Q=function(){return n},n}var X=function(n,t){return 4*n+2*t*4+10},Z=L.a.div(Q(),X(100,5),X(100,5)),$=L.a.div(K()),_=L.a.div(q()),nn=Object(L.a)(_)(J()),tn=L.a.div(P()),en=Object(L.a)(tn)(V(),(function(n){return t=n.x,e=n.y,"\n  translate(".concat(110*t,"px, ").concat(110*e,"px)\n");var t,e}),(function(n){return 110*n.x+5}),(function(n){return 110*n.y+5}),(function(n){var t=n.value;return W(t)}),(function(n){return"".concat((t=n.value)<100?66:t<1e3?47:t<1e4?40:30,"px");var t}),(function(n){return n.state===a.BORN&&"\n    animation: zoom .1s;\n  "})),rn=function(n){var t=n.cells,e=n.children;return c.a.createElement(Z,null,c.a.createElement(_,null,Array.from(new Array(Math.pow(4,2)),(function(n,t){return t})).map((function(n){return c.a.createElement(tn,{key:n})}))),c.a.createElement(nn,null,t.map((function(n){var t=n.x,e=n.y,r=n.value,a=n.id,u=n.state;return c.a.createElement(en,{key:a,x:t,y:e,value:r,state:u},r)}))),c.a.createElement($,null,e))};function an(){var n=Object(A.a)(["\n  margin-left: auto;\n  display: flex;\n  align-items: center;\n  \n  & > * {\n    margin-right: 12px;\n    \n    &:last-child {\n      margin-right: 0px;\n    }\n  }\n"]);return an=function(){return n},n}function un(){var n=Object(A.a)([""]);return un=function(){return n},n}function cn(){var n=Object(A.a)(["\n  display: flex;\n  padding: 20px 0;\n  width: 100%;\n  align-items: center;\n"]);return cn=function(){return n},n}var on=L.a.div(cn()),fn=L.a.div(un()),ln=L.a.div(an());function sn(){var n=Object(A.a)(["\n  background: #8f7a66;\n  border-radius: 5px;\n  border: none;\n  color: #fff;\n  cursor: pointer;\n  font-size: 18px;\n  font-weight: bold;\n  outline: none;\n  padding: 12px 20px;\n  text-transform: capitalize;\n  align-items: center;\n  \n  &:hover {\n    background: brown;\n  }\n"]);return sn=function(){return n},n}var dn=L.a.button(sn()),vn=function(n){var t=n.children,e=n.onRunNewGame;return c.a.createElement(on,null,c.a.createElement(fn,null,c.a.createElement(dn,{onClick:e},"New Game")),c.a.createElement(ln,null,t))};function mn(){var n=Object(A.a)(["\n  color: #eee4da;\n  font-size: 13px;\n  text-transform: uppercase;\n"]);return mn=function(){return n},n}function pn(){var n=Object(A.a)(["\n  font-size: 25px;\n  font-weight: bold;\n  color: #fff;\n"]);return pn=function(){return n},n}function xn(){var n=Object(A.a)(["\n  padding: 10px 25px;\n  background-color: #eee;\n  border-radius: 5px;\n  display: flex;\n  flex-direction: column;\n  background: #bbada0;\n  align-items: center;\n"]);return xn=function(){return n},n}var bn=L.a.div(xn()),gn=L.a.div(pn()),yn=L.a.div(mn()),hn=function(n){var t=n.score,e=n.title;return c.a.createElement(bn,null,c.a.createElement(yn,null,e),c.a.createElement(gn,null,t))};function On(){var n=Object(A.a)(["\n  color: #776e65;\n  font-size: 60px;\n  margin-top: 0;\n"]);return On=function(){return n},n}function En(){var n=Object(A.a)(["\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background: rgba(238, 228, 218, 0.73);\n  flex-direction: column;\n"]);return En=function(){return n},n}var jn,wn=L.a.div(En()),In=L.a.h2(On()),Nn=function(n){var t=n.title,e=n.onRetry;return c.a.createElement(wn,null,c.a.createElement(In,null,t),c.a.createElement(dn,{onClick:e},"Try Again"))},kn=b(),Dn=(jn=hn,function(n){var t=n.gainedScores,e=n.title,r=n.score,a=Object(u.useState)(!1),o=Object(f.a)(a,2),i=o[0],l=o[1];return Object(u.useEffect)((function(){l(!1);var n=0;return n>0&&clearTimeout(n),n=setTimeout((function(){l(!0)}),10),function(){clearTimeout(n)}}),[t]),c.a.createElement(B,null,t>0&&c.a.createElement(z,{animated:i},"+ ".concat(t)),c.a.createElement(jn,{score:r,title:e}))}),Rn=S(),Gn={ArrowUp:r.UP,ArrowRight:r.RIGHT,ArrowDown:r.DOWN,ArrowLeft:r.LEFT},Sn=function(){var n=Object(u.useState)(kn),t=Object(f.a)(n,2),e=t[0],r=t[1],a=Object(u.useState)(0),o=Object(f.a)(a,2),i=o[0],l=o[1],s=Object(u.useState)(0),v=Object(f.a)(s,2),m=v[0],p=v[1],x=Object(u.useState)(!1),g=Object(f.a)(x,2),h=g[0],O=g[1],E=function(){Rn=S(),r(b()),l(0),O(!1)},j=function(n){var t,a=k(e,n),u=R(a),c=Object(f.a)(u,2),o=c[0],s=c[1],v=o,m=i+s;(t=o,e.reduce((function(n,t){return n+d(t.x,t.y)}),0)!==t.reduce((function(n,t){return n+d(t.x,t.y)}),0))&&(function(n){var t=Math.pow(4,2);return n.length<t}(v=y(o))||D(v)||O(!0));r(v),p(s),l(m),m>Rn&&G(m)},w=function(n){Object.keys(Gn).includes(n.code)&&j(Gn[n.code])};return Object(u.useEffect)((function(){return document.addEventListener("keydown",w),function(){document.removeEventListener("keydown",w)}})),c.a.createElement(H,null,c.a.createElement(vn,{onRunNewGame:E},c.a.createElement(Dn,{gainedScores:m,score:i,title:"score"}),c.a.createElement(hn,{score:Rn,title:"Best"})),c.a.createElement(rn,{cells:e},h&&c.a.createElement(Nn,{title:"Game Over",onRetry:E})))};e(25);i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(Sn,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.f7e04e93.chunk.js.map